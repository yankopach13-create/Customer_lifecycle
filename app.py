"""
–¶–∏–∫–ª –∂–∏–∑–Ω–∏ –∫–ª–∏–µ–Ω—Ç–∞ –≤ –ø—Ä–æ–¥—É–∫—Ç–µ.
Streamlit-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç—á—ë—Ç–æ–≤ –∏–∑ Qlik –ø–æ —à–∞–±–ª–æ–Ω—É.
"""

import streamlit as st

# --- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–¥–ª—è Streamlit Cloud) ---
st.set_page_config(
    page_title="–¶–∏–∫–ª –∂–∏–∑–Ω–∏ –∫–ª–∏–µ–Ω—Ç–∞ –≤ –ø—Ä–æ–¥—É–∫—Ç–µ",
    page_icon="üîÑ",
    layout="wide",
)

# --- –ó–∞–≥–æ–ª–æ–≤–æ–∫ (–æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞) ---
st.title("üîÑ –¶–∏–∫–ª –∂–∏–∑–Ω–∏ –∫–ª–∏–µ–Ω—Ç–∞ –≤ –ø—Ä–æ–¥—É–∫—Ç–µ")
st.divider()

# --- –î–≤–µ –∫–æ–ª–æ–Ω–∫–∏: –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–ª–µ–≤–∞, —à–∞–±–ª–æ–Ω –∏ –∑–∞–≥—Ä—É–∑—á–∏–∫ —Å–ø—Ä–∞–≤–∞ ---
col_instruction, col_template = st.columns([1, 1])

with col_instruction:
    st.subheader("–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∫ –∑–∞–≥—Ä—É–∑–∫–µ 1 –¥–æ–∫—É–º–µ–Ω—Ç–∞")
    st.markdown("""
    1. –ó–∞–π–¥–∏—Ç–µ –≤ Qlik, —Ä–∞–∑–¥–µ–ª ¬´–ê–Ω–∞–ª–∏–∑ —á–µ–∫–æ–≤¬ª, –ª–∏—Å—Ç ¬´–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä¬ª.
    2. –û—Ç–±–µ—Ä–∏—Ç–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã/–∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ –æ–¥–Ω–æ–º –∏–∑ —Ä–∞–∑—Ä–µ–∑–æ–≤ –ì—Ä—É–ø–ø–∞1 / –ì—Ä—É–ø–ø–∞2 / –ì—Ä—É–ø–ø–∞3 / –ì—Ä—É–ø–ø–∞4.
    3. –û—Ç–±–µ—Ä–∏—Ç–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–π –ø–µ—Ä–∏–æ–¥ –∏ —Ä–∞–∑—Ä–µ–∑ (–≥–æ–¥‚Äì–º–µ—Å—è—Ü –∏–ª–∏ –≥–æ–¥‚Äì–Ω–µ–¥–µ–ª—è).
    4. –í—ã–≤–µ–¥–∏—Ç–µ –æ—Ç—á—ë—Ç –ø–æ —à–∞–±–ª–æ–Ω—É —Å–ø—Ä–∞–≤–∞.
    5. –°–∫–∞—á–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –≤ Qlik –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤ —è—á–µ–π–∫—É —Å–ø—Ä–∞–≤–∞.
    """)
    st.markdown("---")
    st.subheader("–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∫ –∑–∞–≥—Ä—É–∑–∫–µ 2 –¥–æ–∫—É–º–µ–Ω—Ç–∞")
    st.markdown("""
    1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –ª–∏—Å—Ç ¬´–ü—Ä–æ–¥–∞–∂–∏¬ª –∏ –æ—Ç–±–µ—Ä–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –∏ –ø—Ä–æ–¥—É–∫—Ç–∞/–∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
    2. –í—ã–±–µ—Ä–∏—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –æ—Ç—á—ë—Ç –ø–æ —à–∞–±–ª–æ–Ω—É —Å–ø—Ä–∞–≤–∞ –Ω–∞ –ª–∏—Å—Ç–µ ¬´–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä¬ª.
    3. –°–∫–∞—á–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –≤ Qlik –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤ —è—á–µ–π–∫—É —Å–ø—Ä–∞–≤–∞.
    """)

with col_template:
    st.subheader("üìã –®–∞–±–ª–æ–Ω –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Qlik")
    try:
        st.image("qlik_template_categories.png", use_container_width=True)
    except FileNotFoundError:
        st.warning("–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `qlik_template_categories.png` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.")
    st.markdown("---")
    st.caption("–î–æ–∫—É–º–µ–Ω—Ç 1 ‚Äî –≤—ã–≥—Ä—É–∑–∫–∞ –∏–∑ –ª–∏—Å—Ç–∞ ¬´–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä¬ª:")
    uploaded_file_1 = st.file_uploader(
        "–î–æ–∫—É–º–µ–Ω—Ç 1",
        type=["xlsx", "xls"],
        key="qlik_upload_1",
        label_visibility="collapsed",
    )
    if uploaded_file_1:
        st.success(f"–ó–∞–≥—Ä—É–∂–µ–Ω: {uploaded_file_1.name}")

    st.caption("–î–æ–∫—É–º–µ–Ω—Ç 2 ‚Äî –≤—ã–≥—Ä—É–∑–∫–∞ –ø–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:")
    uploaded_file_2 = st.file_uploader(
        "–î–æ–∫—É–º–µ–Ω—Ç 2",
        type=["xlsx", "xls"],
        key="qlik_upload_2",
        label_visibility="collapsed",
    )
    if uploaded_file_2:
        st.success(f"–ó–∞–≥—Ä—É–∂–µ–Ω: {uploaded_file_2.name}")
